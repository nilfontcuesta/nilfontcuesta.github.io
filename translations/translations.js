const translations = {
    en: {
        "welcome-title": "> Welcome!",
        "welcome-second": "I'm Nil Font i Cuesta",
        "welcome-third": "a Software Engineer who loves ‚òï‚Äã‚õµüèîÔ∏è",
        "welcome-menu-resume": "About me",
        "welcome-menu-linkedin": "LinkedIn",
        "resume-name": "Nil Font i Cuesta",
        "resume-first-subtitle": "> Software Engineer:",
        "resume-second-subtitle": "6 years of experience",
        "resume-download-pdf": "Download PDF",
        "resume-presentation-hello": "> Hey there, I'm Nil! üëã",
        "resume-presentation-professional": "A Computer Engineer graduated from UPC, specialized in Software Engineering, with over 6 years of experience in the field. As a backend engineer, I'm passionate about software architecture and its ability to solve complex problems efficiently. Currently, I'm expanding my expertise by pursuing a Master's in Cybersecurity and Privacy at the UOC.",
        "resume-presentation-personal": "On a personal level, I consider myself ambitious and highly motivated to keep learning and growing both professionally and personally. I deeply value teamwork, transparency, and constructive feedback. I enjoy sharing knowledge and am always open to new challenges and opportunities to grow.",
        "resume-subtitle-experience":"Main Experience",
        "wallapop-title": "Wallapop (Mar 2022 - Present)",
        "wallapop-description": " is a leading online platform for buying and selling second-hand products between individuals, with over 15 million active users per month. As a member of the Platform-Core team, my role is to develop and deliver new tools and services that are utilized across the entire platform.",
        "ajuntament-title": "Barcelona City Council (May 2019 - Sep 2023)",
        "ajuntament-description": "Public office in Barcelona City Council during the 2019-2023 mandate. (Half-time job)",
        "ajuntament-spokesperson": "Councilior Spockperson of District",
        "ajuntament-councilior": "Councilior of District",
        "omatech-title": "Omatech (Apr 2019 - Mar 2022)",
        "omatech-description": " is a digital development company that specializes in creating custom technical solutions for businesses",
        "farmavet-title": "Farmavet (Jul 2018 - Feb 2019)",
        "farmavet-description": " is a digital development company that specializes in creating custom technical solutions for health and pharmacy businesses",
        "bcnquark-title": "BCN Quark (Jul 2017 - Feb 2019)",
        "bcnquark-description": " is a technology company dedicated to the development software.",
        "resume-subtitle-education": "Education",
        "education-master-uoc":"Master in Cybersecurity and Privacy",
        "education-degree-upc": "Computer Engineering",
        "education-fmte": "Technological Baccalaureate",
        "resume-subtitle-miscellaneous": "Miscellaneous",
        "miscellaneous-cybersecurity": "Cybersecurity introduction course - UPC Jedi Junior",
        "miscellaneous-machinelearning": "Machine Learning introduction course - UPC Jedi Junior",
        "miscellaneous-barcelonaqbit": "Founder Member of",
        "miscellaneous-hpcodewars": "3rd position in HP Code Wars Barcelona 2015."
    },
    es: {
        "welcome-title": "> Bienvenido/a!",
        "welcome-second": "Soy Nil Font Cuesta",
        "welcome-third": "un Ingeniero del Software apasionado del ‚òï‚Äã‚õµüèîÔ∏è",
        "welcome-menu-resume": "Sobre mi",
        "welcome-menu-linkedin": "LinkedIn",
        "resume-name": "Nil Font Cuesta",
        "resume-first-subtitle": "> Ingeniero del Software:",
        "resume-second-subtitle": "con m√°s de 6 a√±os de experiencia",
        "resume-download-pdf": "Descargar PDF",
        "resume-presentation-hello": "> Hola, soy Nil! üëã",
        "resume-presentation-professional": "Ingeniero Inform√°tico graduado por la UPC, especializado en Ingenier√≠a del Software, con m√°s de 6 a√±os de experiencia en el sector. Como ingeniero backend, me apasiona la arquitectura del software, dise√±ar y pensar soluciones a nuevos retos. Actualmente, estoy ampliando mis conocimientos con un m√°ster en Ciberseguridad y Privacidad en la UOC.",
        "resume-presentation-personal": "A nivel personal, me considero una persona ambiciosa y muy motivada para seguir aprendiendo y evolucionando tanto a nivel profesional como personal. Valoro profundamente el trabajo en equipo, la transparencia y el feedback constructivo. Me encanta compartir conocimientos y siempre estoy abierto a nuevos retos y oportunidades para crecer.",
        "resume-subtitle-experience":"Experiencia",
        "wallapop-title": "Wallapop (Mar 2022 - Presente)",
        "wallapop-description": " es una plataforma online para comprar y vender porductos de segunda mano entre particulares con unos 15 millones de usuarios activos al mes. Como miembro del equipo de Platform-Core, mi tarea es dise√±ar y desarrollar nuevas herramientas y servicios que afecten a varias arias de la plataforma.",
        "ajuntament-title": "Ayuntamiento de Barcelona (Mayo 2019 - Set 2023)",
        "ajuntament-description": "Cargo p√∫blico en el Ayuntamiento de Barcelona durante el mandato 2019-2023. (Media jornada)",
        "ajuntament-spokesperson": "Consejero Portavoz de Distrito",
        "ajuntament-councilior": "Consejero de Distrito",
        "omatech-title": "Omatech (Abr 2019 - Mar 2022)",
        "omatech-description": " es empresa de desarrollo digital especializada en crear soluciones t√©cnicas personalizadas (web, apps...) para empresas.",
        "farmavet-title": "Farmavet (Jul 2018 - Feb 2019)",
        "farmavet-description": " es una consultora tecnol√≥gica especializada en proporcionar soluciones a empresas del sector sanit√°rio y farmac√©utico.",
        "bcnquark-title": "BCN Quark (Jul 2017 - Feb 2019)",
        "bcnquark-description": " es una empresa tecnol√≥gica con varios productos propios.",
        "resume-subtitle-education": "Educaci√≥n",
        "education-master-uoc":"M√°ster en Ciberseguridad y Privacidad",
        "education-degree-upc": "Ingenier√≠a Inform√°tica",
        "education-fmte": "Bachillerato tecnol√≥gico",
        "resume-subtitle-miscellaneous": "Otros",
        "miscellaneous-cybersecurity": "Curso de introducci√≥n a la Ciberseguretat - UPC Jedi Junior",
        "miscellaneous-machinelearning": "Curso de introducci√≥n al Machine Learning - UPC Jedi Junior",
        "miscellaneous-barcelonaqbit": "Miembro fundador de",
        "miscellaneous-hpcodewars": "3ra posici√≥n en HP Code Wars Barcelona 2015."
    },
    ca: {
        "welcome-title": "> Benvingut/da!",
        "welcome-second": "Em dic Nil Font i Cuesta",
        "welcome-third": "s√≥c un Enginyer del Software apassionat del ‚òï‚Äã‚õµüèîÔ∏è",
        "welcome-menu-resume": "Sobre mi",
        "welcome-menu-linkedin": "LinkedIn",
        "resume-name": "Nil Font i Cuesta",
        "resume-first-subtitle": "> Enginyer del Software:",
        "resume-second-subtitle": "amb m√©s de 6 anys d'experi√®ncia",
        "resume-download-pdf": "Descarregar PDF",
        "resume-presentation-hello": "> Hola, em dic Nil! üëã",
        "resume-presentation-professional": "S√≥c Enginyer Inform√†tic graduat per la UPC, especialitzat en Enginyeria del Software, amb m√©s de 6 anys d'experi√®ncia en el sector. Com a enginyer backend, em fascina l'arquitectura del software i poder dissenyar i pensar solucions a nous reptes. Actualment, estic ampliant els meus coneixements amb un m√†ster en Ciberseguretat i Privadesa a la UOC.",
        "resume-presentation-personal": "A nivell personal, em defineixo com una persona ambiciosa i amb una gran motivaci√≥ per continuar aprenent i evolucionant tant a nivell professional com personal. Valoro profundament el treball en equip, la transpar√®ncia, i el valor del feedback constructiu. M'agrada compartir coneixements i sempre estic obert a nous reptes i oportunitats per cr√©ixer.",
        "resume-subtitle-experience": "Experi√®ncia",
        "wallapop-title": "Wallapop (Mar 2022 - Present)",
        "wallapop-description": " √©s una plataforma online per comprar i vendre productes de segona m√† entre particulars amb uns 15 milions d'usuaris actius al mes. Com a membre de l'equip de Platform-Core, la meva tasca √©s dissenyar i desenvolupar noves eines i serveis que afecten a diverses arees de la plataforma.",
        "ajuntament-title": "Ajuntament de Barcelona (Maig 2019 - Sep 2023)",
        "ajuntament-description": "C√†rrec p√∫blic a l'Ajuntament de Barcelona durant el mandat 2019-2023. (Mitja jornada)",
        "ajuntament-spokesperson": "Conseller Portaveu de Districte",
        "ajuntament-councilior": "Conseller de Districte",
        "omatech-title": "Omatech (Abr 2019 - Mar 2022)",
        "omatech-description": " √©s una empresa de desenvolupament digital especialitzada en crear solucions t√®cniques personalitzades per a empreses (web, apps etc.)",
        "farmavet-title": "Farmavet (Jul 2018 - Feb 2019)",
        "farmavet-description": " √©s una consultora tecnol√≤gica especialitzada en proporcionar solucions a empreses del sector sanitari i farmac√®utic.",
        "bcnquark-title": "BCN Quark (Jul 2017 - Feb 2019)",
        "bcnquark-description": " √©s  empresa tecnol√≤gica amb diversos productes propis",
        "resume-subtitle-education": "Educaci√≥",
        "education-master-uoc":"M√†ster en Ciberseguretat i Privadesa",
        "education-degree-upc": "Enginyeria Inform√†tica",
        "education-fmte": "Batxillerat tecnol√≤gic",
        "resume-subtitle-miscellaneous": "Altres",
        "miscellaneous-cybersecurity": "Curs d'introducci√≥ a la Ciberseguretat - UPC Jedi Junior",
        "miscellaneous-machinelearning": "Curs d'Introducci√≥ al Machine Learning - UPC Jedi Junior",
        "miscellaneous-barcelonaqbit": "Membre fundador de",
        "miscellaneous-hpcodewars": "3ra posici√≥ en l'HP Code Wars Barcelona 2015."
    }
};

let currentLanguage = 'en'; 

function updateContent() {
    const languageTranslations = translations[currentLanguage];

    if (languageTranslations) {
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach((element) => {
            const key = element.getAttribute('data-i18n');
            element.textContent = languageTranslations[key] || key;
        });
    }
}

function changeLanguage(lang) {
    currentLanguage = lang;  
    localStorage.setItem('language', lang);  
    document.getElementById('selected-language').textContent = `${lang.toUpperCase()}`;
    updateContent(); 
}

function translate(key) {
    var result = translations[currentLanguage][key]
    return result ? result: key;
}

function detectLanguage() {
    let language = localStorage.getItem('language');

    if (!language) {
        const browserLang = navigator.language.slice(0, 2);
        language = ['en', 'es', 'ca'].includes(browserLang) ? browserLang : 'en';
    }

    currentLanguage = language;
    document.getElementById('selected-language').textContent = `${language.toUpperCase()}`;
}

detectLanguage();

// LANGUAGE SELECTOR //

const languageSelect = document.querySelector('.language-select');
const dropdown = document.getElementById('dropdown');
const selectedLanguage = document.getElementById('selected-language');

selectedLanguage.addEventListener('click', () => {
    languageSelect.classList.toggle('open'); 
});

document.querySelectorAll('.dropdown-item').forEach(item => {
    item.addEventListener('click', (event) => {
        const lang = event.target.getAttribute('data-lang');
        changeLanguage(lang);
        languageSelect.classList.remove('open');
    });
});
